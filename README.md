# EasyStock-Process 商贸库存结算管理系统

## 项目简介

**EasyStock-Process** 是为天津晨光伟业公司定制开发的商贸库存结算管理系统，基于现代化技术栈构建，实现了采购、销售、库存管理、结算周期管理等核心功能，帮助企业实现精细化的商贸运营管理。

## 系统特点

- **全流程管理**：覆盖从采购到销售的完整业务流程，包括库存流转和成本核算
- **数据可视化**：提供直观的数据统计和分析功能，帮助管理层快速决策
- **灵活的结算周期**：支持自定义结算周期，满足企业特定的财务需求
- **多维度数据管理**：供应商、采购商、商品等基础信息的全面管理
- **Excel导入导出**：支持批量数据导入导出，提高数据处理效率
- **跨平台支持**：同时支持Web浏览器访问和桌面应用部署

## 技术栈

### 后端
- **框架**：FastAPI 1.0+
- **数据库**：sqlLite
- **ORM**：SQLAlchemy
- **认证**：JWT (预留)
- **其他**：Pydantic V2, Python 3.10+

### 前端
- **框架**：Vue 3 + TypeScript
- **UI库**：Ant Design Vue 4.0+
- **状态管理**：Zustand
- **路由**：Vue Router 4.0+
- **图表**：ECharts, Ant Design Plots
- **构建工具**：Vite 5.0+
- **打包工具**：Electron (桌面应用)

## 系统架构

### 目录结构

```
EasyStock-Process/
├── backend/            # 后端代码
│   ├── app/            # 应用核心代码
│   │   ├── models/     # 数据模型
│   │   ├── repositories/ # 数据访问层
│   │   ├── routers/    # API路由
│   │   ├── schemas/    # 数据验证和传输对象
│   │   ├── services/   # 业务逻辑层
│   │   ├── utils/      # 工具函数
│   │   ├── config.py   # 配置文件
│   │   ├── database.py # 数据库连接
│   │   └── main.py     # 应用入口
│   ├── public/         # 公共资源
│   ├── tests/          # 测试代码
│   ├── requirements.txt # 依赖包
│   └── run.py          # 运行脚本
├── frontend/           # 前端代码
│   ├── src/            # 源代码
│   │   ├── api/        # API请求
│   │   ├── components/ # 组件
│   │   ├── layout/     # 布局
│   │   ├── router/     # 路由
│   │   ├── store/      # 状态管理
│   │   ├── utils/      # 工具函数
│   │   └── views/      # 页面
│   ├── package.json    # 项目配置
│   └── vite.config.ts  # Vite配置
├── static/             # 静态文件
└── README.md           # 项目说明
```

### 核心功能模块

1. **基础信息管理**
   - 供应商管理
   - 采购商管理
   - 商品信息管理

2. **采购管理**
   - 采购单管理
   - 采购付款管理
   - 采购结算管理

3. **销售管理**
   - 销售单管理
   - 销售收款管理
   - 销售结算管理

4. **库存管理**
   - 库存流水管理
   - 库存损耗管理

5. **成本费用管理**
   - 运营费用管理
   - 成本核算

6. **数据统计分析**
   - 销售数据统计
   - 采购数据统计
   - 库存状态分析

## 安装与部署

### 前置要求

- **后端**：Python 3.10+, MySQL 5.7+
- **前端**：Node.js 16+, npm 8+

### 后端部署

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd EasyStock-Process/backend
   ```

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **配置数据库**
   修改 `app/config.py` 中的数据库连接信息：
   ```python
   DATABASE_URL = "mysql+pymysql://username:password@localhost:3306/easystock_process"
   ```

4. **运行应用**
   ```bash
   python run.py
   ```
   或使用开发服务器：
   ```bash
   uvicorn app.main:app --reload
   ```

### 前端部署

1. **进入前端目录**
   ```bash
   cd EasyStock-Process/frontend
   ```

2. **安装依赖**
   ```bash
   npm install
   ```

3. **开发模式运行**
   ```bash
   npm run dev
   ```

4. **构建生产版本**
   ```bash
   npm run build
   ```
   构建后的文件会生成在 `dist` 目录，可部署到任何静态文件服务器。

### 桌面应用部署

1. **构建前端**
   ```bash
   npm run build
   ```

2. **构建Electron应用**
   ```bash
   npm run electron:build
   ```
   构建后的安装包会生成在 `dist_electron_new` 目录。

## API文档

系统提供了完整的RESTful API，可通过以下地址访问API文档：

- **Swagger UI**：`http://localhost:8000/docs`
- **ReDoc**：`http://localhost:8000/redoc`

## 使用指南

### 系统登录

部署完成后，通过浏览器访问系统地址（默认为 `http://localhost:8000`）或运行桌面应用程序，即可进入系统登录页面。

### 主要功能使用

1. **基础信息设置**
   - 首次使用系统时，建议先完善供应商、采购商和商品信息
   - 路径：基础信息 → 供应商管理/采购商管理/商品管理

2. **采购管理**
   - 创建采购单：采购管理 → 采购单管理 → 新增
   - 记录采购付款：采购管理 → 采购付款管理 → 新增
   - 生成采购结算：采购管理 → 采购结算管理 → 生成结算单

3. **销售管理**
   - 创建销售单：销售管理 → 销售单管理 → 新增
   - 记录销售收款：销售管理 → 销售收款管理 → 新增
   - 生成销售结算：销售管理 → 销售结算管理 → 生成结算单

4. **库存管理**
   - 查看库存流水：库存管理 → 库存流水
   - 记录库存损耗：库存管理 → 库存损耗 → 新增

5. **成本费用管理**
   - 记录运营费用：成本费用 → 运营费用 → 新增

6. **数据统计分析**
   - 查看首页数据看板，了解企业运营概况
   - 查看各模块的数据统计报表

### 数据导入导出

系统支持Excel格式的数据导入导出，可通过各模块的导入/导出按钮进行操作：

- **导入**：点击导入按钮，下载模板，填写数据后上传
- **导出**：点击导出按钮，系统会生成Excel文件并自动下载

## 系统维护

### 数据备份

建议定期对MySQL数据库进行备份，可使用以下命令：

```bash
mysqldump -u username -p easystock_process > backup.sql
```

### 日志管理

系统运行日志可在后端控制台查看，建议在生产环境配置专业的日志管理工具。

### 性能优化

- **数据库索引**：确保关键查询字段已建立索引
- **缓存策略**：对于频繁访问的数据，可考虑添加缓存机制
- **批量操作**：处理大量数据时，使用批量操作减少数据库交互

## 常见问题

1. **系统无法启动**
   - 检查数据库连接是否正确
   - 确保所有依赖已正确安装
   - 查看控制台错误信息

2. **数据导入失败**
   - 检查Excel文件格式是否符合模板要求
   - 确保数据类型和格式正确
   - 查看导入时的错误提示

3. **报表数据不准确**
   - 检查相关业务数据是否完整录入
   - 确认结算周期设置是否正确
   - 联系技术支持进行排查

## 技术支持

- **联系电话**：19922629581
- **邮箱**：1371591387@qq.com
- **服务时间**：工作日 9:00-18:00

## 版本更新记录

### v1.0.0 (2026-02-16)
- ✨ 系统初始化，完成核心功能开发
- ✨ 实现采购、销售、库存、成本管理模块
- ✨ 支持Excel数据导入导出
- ✨ 提供数据统计和分析功能
- ✨ 支持Web和桌面应用部署

## 许可证

本系统为天津晨光伟业公司定制开发，版权归天津晨光伟业所有。

---

**© 2026 天津晨光伟业. 保留所有权利.**
